(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/uUt":function(t,e,r){"use strict";r.d(e,"a",function(){return n});var s=r("7o/Q");function n(t,e){return r=>r.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new i(t,this.compare,this.keySelector))}}class i extends s.a{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(s){return this.destination.error(s)}let r=!1;if(this.hasKey)try{const{compare:t}=this;r=t(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}},"1G5W":function(t,e,r){"use strict";r.d(e,"a",function(){return n});var s=r("zx2A");function n(t){return e=>e.lift(new o(t))}class o{constructor(t){this.notifier=t}call(t,e){const r=new i(t),n=Object(s.c)(this.notifier,new s.a(r));return n&&!r.seenValue?(r.add(n),e.subscribe(r)):r}}class i extends s.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},"3N8a":function(t,e,r){"use strict";r.d(e,"a",function(){return o});var s=r("quSY");class n extends s.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends n{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,r=0){return setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,s=!1;try{this.work(t)}catch(n){s=!0,r=!!n&&n||new Error(n)}if(s)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,r=e.actions,s=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&r.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"B+dw":function(t,e,r){"use strict";r.r(e),r.d(e,"CoreModule",function(){return Ge});var s=r("/uUt"),n=r("Kj3r"),o=r("lJxs"),i=r("pLZG"),c=r("eIep"),a=r("l7P3"),u=r("VRyK"),l=r("HDdC"),h=r("XNiG"),d=(r("NXyV"),r("WMd4")),p=(r("mCNh"),r("LRne")),_=r("7o/Q");class b{call(t,e){return e.subscribe(new f(t))}}class f extends _.a{_next(t){}}class g{call(t,e){return e.subscribe(new O(t))}}class O extends _.a{constructor(t){super(t)}_next(t){this.destination.next(d.a.createNext(t))}_error(t){const e=this.destination;e.next(d.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(d.a.createComplete()),t.complete()}}var m=r("JIr8"),E=r("quSY");function C(t,e,r,s){return n=>n.lift(new w(t,e,r,s))}class w{constructor(t,e,r,s){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=s}call(t,e){return e.subscribe(new x(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class x extends _.a{constructor(t,e,r,s,n){super(t),this.keySelector=e,this.elementSelector=r,this.durationSelector=s,this.subjectSelector=n,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(r){return void this.error(r)}this._group(t,e)}_group(t,e){let r=this.groups;r||(r=this.groups=new Map);let s,n=r.get(e);if(this.elementSelector)try{s=this.elementSelector(t)}catch(o){this.error(o)}else s=t;if(!n){n=this.subjectSelector?this.subjectSelector():new h.a,r.set(e,n);const t=new v(e,n,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new v(e,n))}catch(o){return void this.error(o)}this.add(t.subscribe(new y(e,n,this)))}}n.closed||n.next(s)}_error(t){const e=this.groups;e&&(e.forEach((e,r)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class y extends _.a{constructor(t,e,r){super(e),this.key=t,this.group=e,this.parent=r}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class v extends l.a{constructor(t,e,r){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=r}_subscribe(t){const e=new E.a,{refCountSubscription:r,groupSubject:s}=this;return r&&!r.closed&&e.add(new S(r)),e.add(s.subscribe(t)),e}}class S extends E.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var M=r("5+tZ"),A=r("Cfvw"),j=r("zx2A");function P(t,e){return e?r=>r.pipe(P((r,s)=>Object(A.a)(t(r,s)).pipe(Object(o.a)((t,n)=>e(r,t,s,n))))):e=>e.lift(new T(t))}class T{constructor(t){this.project=t}call(t,e){return e.subscribe(new I(t,this.project))}}class I extends j.b{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(s){return void this.destination.error(s)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new j.a(this),r=this.destination;r.add(e);const s=Object(j.c)(t,e);s!==e&&r.add(s)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class D{call(t,e){return e.subscribe(new R(t))}}class R extends _.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}var N=r("IzEk"),L=(r("bOdf"),r("nYR2"),r("zp1y")),k=r("fXoL");const F={dispatch:!0,useEffectsErrorHandler:!0};function B(t,e){const r=t(),s=Object.assign(Object.assign({},F),e);return Object.defineProperty(r,"__@ngrx/effects_create__",{value:s}),r}function U(t){return Object.getOwnPropertyNames(t).filter(e=>!(!t[e]||!t[e].hasOwnProperty("__@ngrx/effects_create__"))&&t[e]["__@ngrx/effects_create__"].hasOwnProperty("dispatch")).map(e=>Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"]))}function W(t){return Object.getPrototypeOf(t)}function V(t){return Object(a.n)(K,W)(t)}function K(t){return function(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}(t)?t.constructor["__@ngrx/effects__"]:[]}function z(t,e,r=10){return t.pipe(Object(m.a)(s=>(e&&e.handleError(s),r<=1?t:z(t,e,r-1))))}let $=(()=>{class t extends l.a{constructor(t){super(),t&&(this.source=t)}lift(e){const r=new t;return r.source=this,r.operator=e,r}}return t.\u0275fac=function(e){return new(e||t)(k.Sb(a.g))},t.\u0275prov=k.Hb({token:t,factory:t.\u0275fac}),t})();function q(...t){return Object(i.a)(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function G(t){return X(t,"ngrxOnInitEffects")}function X(t,e){return t&&e in t&&"function"==typeof t[e]}const H=new k.r("@ngrx/effects Internal Root Guard"),J=new k.r("@ngrx/effects User Provided Effects"),Y=new k.r("@ngrx/effects Internal Root Effects"),Z=new k.r("@ngrx/effects Root Effects"),Q=new k.r("@ngrx/effects Internal Feature Effects"),tt=new k.r("@ngrx/effects Feature Effects"),et=new k.r("@ngrx/effects Effects Error Handler");let rt=(()=>{class t extends h.a{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe(C(W),Object(M.a)(t=>t.pipe(C(st))),Object(M.a)(t=>{const e=t.pipe(P(t=>{return(e=this.errorHandler,r=this.effectsErrorHandler,t=>{const s=function(t,e,r){const s=W(t).constructor.name,n=(i=t,[V,U].reduce((t,e)=>t.concat(e(i)),[])).map(({propertyName:n,dispatch:i,useEffectsErrorHandler:c})=>{const a="function"==typeof t[n]?t[n]():t[n],u=c?r(a,e):a;return!1===i?u.pipe(function(t){return t.lift(new b)}):u.pipe(function(t){return t.lift(new g)}).pipe(Object(o.a)(e=>({effect:t[n],notification:e,propertyName:n,sourceName:s,sourceInstance:t})))});var i;return Object(u.a)(...n)}(t,e,r);return X(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(s):s})(t);var e,r}),Object(o.a)(t=>(function(t,e){if("N"===t.notification.kind){const r=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(r)&&e.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:e,sourceName:r}){const s="function"==typeof e[t];return`"${r}.${String(t)}${s?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(e){return t}}(r)}`))}}(t,this.errorHandler),t.notification)),Object(i.a)(t=>"N"===t.kind&&null!=t.value),function(t){return t.lift(new D)}),r=t.pipe(Object(N.a)(1),Object(i.a)(G),Object(o.a)(t=>t.ngrxOnInitEffects()));return Object(u.a)(e,r)}))}}return t.\u0275fac=function(e){return new(e||t)(k.Sb(k.m),k.Sb(et))},t.\u0275prov=k.Hb({token:t,factory:t.\u0275fac}),t})();function st(t){return X(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}let nt=(()=>{class t{constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(k.Sb(rt),k.Sb(a.i))},t.\u0275prov=k.Hb({token:t,factory:t.\u0275fac}),t})();const ot=Object(a.o)("@ngrx/effects/init");let it=(()=>{class t{constructor(t,e,r,s,n,o,i){this.sources=t,e.start(),s.forEach(e=>t.addEffects(e)),r.dispatch({type:"@ngrx/effects/init"})}addEffects(t){this.sources.addEffects(t)}}return t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({factory:function(e){return new(e||t)(k.Sb(rt),k.Sb(nt),k.Sb(a.i),k.Sb(Z),k.Sb(a.l,8),k.Sb(a.j,8),k.Sb(H,8))}}),t})(),ct=(()=>{class t{constructor(t,e,r,s){e.forEach(e=>e.forEach(e=>t.addEffects(e)))}}return t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({factory:function(e){return new(e||t)(k.Sb(it),k.Sb(tt),k.Sb(a.l,8),k.Sb(a.j,8))}}),t})(),at=(()=>{class t{static forFeature(t=[]){return{ngModule:ct,providers:[t,{provide:Q,multi:!0,useValue:t},{provide:J,multi:!0,useValue:[]},{provide:tt,multi:!0,useFactory:ut,deps:[k.s,Q,J]}]}}static forRoot(t=[]){return{ngModule:it,providers:[{provide:et,useValue:z},nt,rt,$,t,{provide:Y,useValue:[t]},{provide:H,useFactory:lt,deps:[[nt,new k.B,new k.K],[Y,new k.J]]},{provide:J,multi:!0,useValue:[]},{provide:Z,useFactory:ut,deps:[k.s,Y,J]}]}}}return t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({factory:function(e){return new(e||t)}}),t})();function ut(t,e,r){const s=[];for(const n of e)s.push(...n);for(const n of r)s.push(...n);return function(t,e){return e.map(e=>t.get(e))}(t,s)}function lt(t,e){if((1!==e.length||0!==e[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ht=r("GyhO"),dt=function(t){return t.getCourses="[CoursesList] GetCourses",t.doRefreshCourses="[CoursesList] RefreshCourses",t.getMoreCourses="[CoursesList] GetMoreCourses",t.getCoursesSuccess="[CoursesList] GetCoursesSuccess",t.doToggleLoadMoreBtn="[CourseList] ToggleLoadMoreBtn",t.doDeleteCourseById="[CourseList] DeleteCourseById",t.increaseCoursesPage="[CourseList] increaseCoursesPage",t.doToggleSearchCourses="[CoursesList] doToggleSearchCourses",t}({});Object(a.o)(dt.getCourses);const pt=Object(a.o)(dt.getCoursesSuccess,Object(a.u)()),_t=Object(a.o)(dt.doRefreshCourses),bt=Object(a.o)(dt.getMoreCourses),ft=Object(a.o)(dt.doToggleLoadMoreBtn,Object(a.u)()),gt=Object(a.o)(dt.doToggleSearchCourses,Object(a.u)()),Ot=Object(a.o)(dt.increaseCoursesPage),mt=Object(a.o)(dt.doDeleteCourseById,Object(a.u)());var Et=function(t){return t.setSearch="[Search] SetSearch",t}({});const Ct=Object(a.o)(Et.setSearch,Object(a.u)());var wt=r("vkgz");class xt{constructor(t){t.id>=0&&(this.id=t.id),this.title=t.title,this.date=new Date(t.date),this.duration=t.duration,this.description=t.description,this.isTopRated=t.isTopRated,this.authors="string"==typeof t.authors?t.authors.split("/"):t.authors}}const yt=Object(a.p)("coursesList"),vt=Object(a.r)(yt,t=>!t.courses||t.isSearchCourses?t.courses:t.courses.slice(0,4*t.pageNumber)),St=Object(a.r)(yt,t=>t.courses),Mt=Object(a.r)(yt,t=>t.isShowLoadMoreBtn),At=Object(a.r)(yt,t=>t.pageNumber);var jt=r("tyNb"),Pt=r("+b+T"),Tt=r("eY8y");let It=(()=>{class t{constructor(t,e,r,s){this.router=t,this.network=e,this.storageService=r,this.store=s,this.coursesStorageName="courses",this.authorStorageName="authors",this.store.select(At).subscribe(t=>this.pageNumber=t),this.moveToCoursesPageTarget=new h.a,this.moveToCoursesPageTarget.subscribe(()=>this.router.navigateByUrl("/courses"))}get getAuthorsListFromStorage(){return Object(p.a)(this.storageService.getValue(this.authorStorageName))}get getAuthorsListFromNetwork(){return this.network.getAuthorsList().pipe(Object(wt.a)(t=>{this.storageService.setValue(this.authorStorageName,t)}))}createTypeForCoursesList(t){return!t||0===t.length||t[0].date instanceof Date?t:t.map(t=>new xt(t))}get refreshCoursesList(){return this.network.getCoursesList(this.pageNumber).pipe(Object(o.a)(t=>this.createTypeForCoursesList(t)),Object(wt.a)(t=>this.storageService.setValue(this.coursesStorageName,t)))}get getCoursesListFromStorage(){const t=this.storageService.getValue(this.coursesStorageName);return Object(p.a)(t).pipe(Object(o.a)(t=>this.createTypeForCoursesList(t)))}getCoursesBySearch(t){return this.network.getCoursesListByText(t).pipe(Object(o.a)(t=>this.createTypeForCoursesList(t)))}deleteCourse(t){return this.network.deleteCourse(t)}createNewCourse(){return new xt({title:"",date:new Date,duration:0,description:"",isTopRated:!1,authors:[""]})}getCourseByIdFromNetwork(t){return this.network.getCourseById(t).pipe(Object(o.a)(t=>this.createTypeForCoursesList(t)[0]))}addNewCourseToNetwork(t){return this.network.addCourse(t)}updateCourseToNetwork(t){return this.network.updateCourse(t)}}return t.\u0275fac=function(e){return new(e||t)(k.Sb(jt.e),k.Sb(Pt.a),k.Sb(Tt.a),k.Sb(a.i))},t.\u0275prov=k.Hb({token:t,factory:t.\u0275fac}),t})(),Dt=(()=>{class t{constructor(t,e){this.coursesService=t,this.actions$=e,this.getCoursesBySearch$=B(()=>this.actions$.pipe(q(Et.setSearch),Object(s.a)(),Object(n.a)(2e3),Object(o.a)(t=>t.value),Object(i.a)(t=>t.length>1||""===t),Object(c.a)(t=>t?Object(ht.a)(Object(p.a)(ft({isShowLoadMoreBtn:!1}),gt({isSearchCourses:!0})),this.coursesService.getCoursesBySearch(t).pipe(Object(o.a)(t=>pt({courses:t})))):Object(p.a)(ft({isShowLoadMoreBtn:!0}),gt({isSearchCourses:!1}),ot()))))}}return t.\u0275fac=function(e){return new(e||t)(k.Sb(It),k.Sb($))},t.\u0275prov=k.Hb({token:t,factory:t.\u0275fac}),t})();var Rt=r("ofXK"),Nt=r("3Pt+"),Lt=r("agSv");Object(a.o)("@ngrx/router-store/request",Object(a.u)()),Object(a.o)("@ngrx/router-store/navigation",Object(a.u)()),Object(a.o)("@ngrx/router-store/cancel",Object(a.u)());const kt="@ngrx/router-store/error";Object(a.o)(kt,Object(a.u)()),Object(a.o)("@ngrx/router-store/navigated",Object(a.u)());class Ft{}class Bt{serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){const e=t.children.map(t=>this.serializeRoute(t));return{params:t.params,paramMap:t.paramMap,data:t.data,url:t.url,outlet:t.outlet,routeConfig:t.routeConfig?{component:t.routeConfig.component,path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet}:null,queryParams:t.queryParams,queryParamMap:t.queryParamMap,fragment:t.fragment,component:t.routeConfig?t.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:e[0],pathFromRoot:void 0,children:e}}}class Ut{serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){const e=t.children.map(t=>this.serializeRoute(t));return{params:t.params,data:t.data,url:t.url,outlet:t.outlet,routeConfig:t.routeConfig?{path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet}:null,queryParams:t.queryParams,fragment:t.fragment,firstChild:e[0],children:e}}}var Wt=function(t){return t[t.PreActivation=1]="PreActivation",t[t.PostActivation=2]="PostActivation",t}({});const Vt=new k.r("@ngrx/router-store Internal Configuration"),Kt=new k.r("@ngrx/router-store Configuration");function zt(t){return Object.assign({stateKey:"router",serializer:Ut,navigationActionTiming:Wt.PreActivation},t)}var $t=function(t){return t[t.NONE=1]="NONE",t[t.ROUTER=2]="ROUTER",t[t.STORE=3]="STORE",t}({});let qt=(()=>{class t{constructor(t,e,r,s,n,o){this.store=t,this.router=e,this.serializer=r,this.errorHandler=s,this.config=n,this.activeRuntimeChecks=o,this.lastEvent=null,this.routerState=null,this.trigger=$t.NONE,this.stateKey=this.config.stateKey,!Object(a.s)()&&Object(k.V)()&&((null==o?void 0:o.strictActionSerializability)||(null==o?void 0:o.strictStateSerializability))&&this.serializer instanceof Bt&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the DefaultRouterStateSerializer. The default serializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer. This also applies to Ivy with immutability runtime checks."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}static forRoot(e={}){return{ngModule:t,providers:[{provide:Vt,useValue:e},{provide:Kt,useFactory:zt,deps:[Vt]},{provide:Ft,useClass:e.serializer?e.serializer:0===e.routerState?Bt:Ut}]}}setUpStoreStateListener(){this.store.pipe(Object(a.v)(this.stateKey),Object(L.a)(this.store)).subscribe(([t,e])=>{this.navigateIfNeeded(t,e)})}navigateIfNeeded(t,e){if(!t||!t.state)return;if(this.trigger===$t.ROUTER)return;if(this.lastEvent instanceof jt.d)return;const r=t.state.url;var s;s=r,Gt(this.router.url)!==Gt(s)&&(this.storeState=e,this.trigger=$t.STORE,this.router.navigateByUrl(r).catch(t=>{this.errorHandler.handleError(t)}))}setUpRouterEventsListener(){const t=this.config.navigationActionTiming===Wt.PostActivation;let e;this.router.events.pipe(Object(L.a)(this.store)).subscribe(([r,s])=>{this.lastEvent=r,r instanceof jt.d?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==$t.STORE&&(this.storeState=s,this.dispatchRouterRequest(r))):r instanceof jt.i?(e=r,t||this.trigger===$t.STORE||this.dispatchRouterNavigation(r)):r instanceof jt.a?(this.dispatchRouterCancel(r),this.reset()):r instanceof jt.c?(this.dispatchRouterError(r),this.reset()):r instanceof jt.b&&(this.trigger!==$t.STORE&&(t&&this.dispatchRouterNavigation(e),this.dispatchRouterNavigated(r)),this.reset())})}dispatchRouterRequest(t){this.dispatchRouterAction("@ngrx/router-store/request",{event:t})}dispatchRouterNavigation(t){const e=this.serializer.serialize(t.state);this.dispatchRouterAction("@ngrx/router-store/navigation",{routerState:e,event:new jt.i(t.id,t.url,t.urlAfterRedirects,e)})}dispatchRouterCancel(t){this.dispatchRouterAction("@ngrx/router-store/cancel",{storeState:this.storeState,event:t})}dispatchRouterError(t){this.dispatchRouterAction(kt,{storeState:this.storeState,event:new jt.c(t.id,t.url,`${t}`)})}dispatchRouterNavigated(t){const e=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction("@ngrx/router-store/navigated",{event:t,routerState:e})}dispatchRouterAction(t,e){this.trigger=$t.ROUTER;try{this.store.dispatch({type:t,payload:Object.assign(Object.assign({routerState:this.routerState},e),{event:0===this.config.routerState?e.event:{id:e.event.id,url:e.event.url,urlAfterRedirects:e.event.urlAfterRedirects}})})}finally{this.trigger=$t.NONE}}reset(){this.trigger=$t.NONE,this.storeState=null,this.routerState=null}}return t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({factory:function(e){return new(e||t)(k.Sb(a.i),k.Sb(jt.e),k.Sb(Ft),k.Sb(k.m),k.Sb(Kt),k.Sb(a.a))}}),t})();function Gt(t){return t.length>0&&"/"===t[t.length-1]?t.substring(0,t.length-1):t}const Xt=Object(a.p)("newCourse"),Ht=Object(a.r)(Xt,t=>t.course),Jt=Object(a.r)(Xt,t=>t.isNewCourse),Yt=Object(a.r)(Xt,t=>t.authorsList);var Zt=function(t){return t.doAddNewCourse="[NewCourse] doAddNewCourse",t.doSubmitNewCourse="[NewCourse] doSubmitNewCourse",t.doToggleNewCourse="[NewCourse]  doToggleNewCourse",t.doAuthorsListSuccess="[NewCourse] doAuthorsListSuccess",t}({});const Qt=Object(a.o)(Zt.doAddNewCourse,Object(a.u)()),te=Object(a.o)(Zt.doSubmitNewCourse,Object(a.u)()),ee=Object(a.o)(Zt.doToggleNewCourse,Object(a.u)()),re=Object(a.o)(Zt.doAuthorsListSuccess,Object(a.u)());let se=(()=>{class t{constructor(){this.breadcrumbs="Courses"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k.Fb({type:t,selectors:[["app-breadcrumbs"]],inputs:{title:"title"},decls:4,vars:4,template:function(t,e){1&t&&(k.Ob(0,"ul"),k.Ob(1,"li"),k.jc(2),k.Yb(3,"titlecase"),k.Nb(),k.Nb()),2&t&&(k.Ab(2),k.lc("",e.breadcrumbs,"/ ",k.Zb(3,2,e.title||""),""))},pipes:[Rt.n],styles:["[_nghost-%COMP%]{background-color:#4bdcdc;display:flex;height:34px;border-radius:25px;margin-top:90px;margin-bottom:15px;align-items:center}[_nghost-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;margin:15px;list-style:none}"]}),t})();function ne(t,e){1&t&&(k.Ob(0,"span",2),k.jc(1,"Field is required"),k.Nb())}let oe=(()=>{class t{ngOnInit(){this.dateForm=new Nt.e("",[Nt.u.required]),this.subscription=this.dateForm.valueChanges.subscribe(t=>{this.onChange(t),this.onTouched()})}get isValidation(){return this.dateForm.invalid&&(this.dateForm.touched||this.dateForm.dirty)}onChange(t){}onTouched(){}writeValue(t){const e=new Rt.e("en-US");this.dateForm.setValue(e.transform(t,"yyyy-MM-dd"))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k.Fb({type:t,selectors:[["app-date-input"]],features:[k.zb([{provide:Nt.m,useExisting:Object(k.U)(()=>t),multi:!0}])],decls:2,vars:2,consts:[["type","date",3,"formControl"],["class","tooltip",4,"ngIf"],[1,"tooltip"]],template:function(t,e){1&t&&(k.Mb(0,"input",0),k.ic(1,ne,2,0,"span",1)),2&t&&(k.bc("formControl",e.dateForm),k.Ab(1),k.bc("ngIf",e.isValidation))},directives:[Nt.a,Nt.n,Nt.f,Rt.k],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;width:25%;min-width:290px;align-items:center}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:70%}"]}),t})(),ie=(()=>{class t{transform(t){if(t<60)return`${t}m`;{const e=t%60,r=(t-e)/60;return 0===e?`${r}h`:`${r}h ${e}m`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=k.Kb({name:"duration",type:t,pure:!0}),t})();function ce(t,e){if(1&t&&(k.Mb(0,"span",3),k.Yb(1,"duration")),2&t){const t=k.Xb();k.bc("innerText",k.Zb(1,1,t.durationForm.value))}}function ae(t,e){if(1&t&&(k.Ob(0,"span",4),k.jc(1),k.Nb()),2&t){const t=k.Xb();k.Ab(1),k.kc(t.warningText)}}let ue=(()=>{class t{constructor(){this.warningMax="Max duration must be less than 200 minutes",this.warningMin="Min duration must be greater than 4 minutes"}ngOnInit(){this.durationForm=new Nt.e("",[t=>t.value<5?{min:!0,max:!1}:t.value>=200?{max:!0,min:!1}:null]),this.subscription=this.durationForm.valueChanges.subscribe(t=>{this.onChange(t),this.onTouched()})}get isValidation(){return!!this.durationForm.invalid&&(this.warningText=this.durationForm.errors.max?this.warningMax:this.warningMin,this.durationForm.touched||this.durationForm.dirty)}onChange(t){}onTouched(){}writeValue(t){this.durationForm.setValue(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k.Fb({type:t,selectors:[["app-duration-input"]],features:[k.zb([{provide:Nt.m,useExisting:Object(k.U)(()=>t),multi:!0}])],decls:3,vars:3,consts:[["placeholder","time in minutes","type","number",1,"duration-input",3,"formControl"],["class","duration-text",3,"innerText",4,"ngIf"],["class","tooltip",4,"ngIf"],[1,"duration-text",3,"innerText"],[1,"tooltip"]],template:function(t,e){1&t&&(k.Mb(0,"input",0),k.ic(1,ce,2,3,"span",1),k.ic(2,ae,2,1,"span",2)),2&t&&(k.bc("formControl",e.durationForm),k.Ab(1),k.bc("ngIf",e.durationForm.value),k.Ab(1),k.bc("ngIf",e.isValidation))},directives:[Nt.r,Nt.a,Nt.n,Nt.f,Rt.k],pipes:[ie],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;width:25%;min-width:290px;align-items:center}[_nghost-%COMP%]   .duration-input[_ngcontent-%COMP%]{width:70%}[_nghost-%COMP%]   .duration-text[_ngcontent-%COMP%]{padding:2px;border-radius:25px;background:rgba(233,236,92,.7137254901960784)}"]}),t})();function le(t,e){if(1&t){const t=k.Pb();k.Ob(0,"li",11),k.Vb("click",function(){k.fc(t);const r=e.$implicit;return k.Xb(2).replaceAuthorToInput(r)}),k.jc(1),k.Nb()}if(2&t){const t=e.$implicit;k.Ab(1),k.kc(t)}}function he(t,e){if(1&t&&(k.Ob(0,"ul",9),k.ic(1,le,2,1,"li",10),k.Nb()),2&t){const t=k.Xb();k.Ab(1),k.bc("ngForOf",t.availableAuthorsList)}}function de(t,e){1&t&&(k.Ob(0,"span",12),k.jc(1,"Invalid author`s name"),k.Nb())}function pe(t,e){if(1&t){const t=k.Pb();k.Ob(0,"div",13),k.Ob(1,"label",14),k.jc(2),k.Nb(),k.Ob(3,"button",15),k.Vb("click",function(){k.fc(t);const r=e.index;return k.Xb().removeAuthor(r)}),k.Ob(4,"span",16),k.jc(5," close "),k.Nb(),k.Nb(),k.Nb()}if(2&t){const t=e.index,r=k.Xb();k.Ab(2),k.kc(r.authorsOfCourse[t].value)}}let _e=(()=>{class t{get inputValue(){return this.courseAuthors.value.inputValue}get authorsOfCourse(){return this.courseAuthors.controls.authors.controls}get isValidateValue(){const t=this.courseAuthors.controls.inputValue;return t.invalid&&(t.dirty||t.touched)}get isValidateBtn(){const t=this.courseAuthors.controls.inputValue;return t.invalid||!t.value}ngOnInit(){this.courseAuthors=new Nt.h({inputValue:new Nt.e(null,[Nt.u.minLength(2),Nt.u.maxLength(25),Nt.u.pattern(/^[^<>'"/;`%?|!0-9]*$/)]),authors:new Nt.b([])}),this.subscription=this.courseAuthors.valueChanges.subscribe(t=>{this.onChange(t.authors.join("/")),this.onTouched()})}get availableAuthorsList(){const t=this.courseAuthors.value.authors;return this.availableAuthors.filter(e=>!t.includes(e)).filter(t=>{const e=new RegExp(this.inputValue,"ig"),r=t.match(e);return!!r&&r[0]!==t})}replaceAuthorToInput(t){this.courseAuthors.controls.inputValue.setValue(t)}addAuthor(){this.courseAuthors.get("authors").push(new Nt.e(this.inputValue)),this.courseAuthors.controls.inputValue.reset()}removeAuthor(t){this.courseAuthors.get("authors").removeAt(t)}onChange(t){}onTouched(){}writeValue(t){this.courseAuthors.get("authors").clear(),t.split("/").forEach(t=>{t&&this.courseAuthors.get("authors").push(new Nt.e(t))})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k.Fb({type:t,selectors:[["app-authors-input"]],inputs:{availableAuthors:"availableAuthors"},features:[k.zb([{provide:Nt.m,useExisting:Object(k.U)(()=>t),multi:!0}])],decls:10,vars:5,consts:[[1,"authors-form",3,"formGroup"],[1,"add-author"],[1,"author-input-wrapper"],["type","text","formControlName","inputValue",1,"author-input"],["class","available-authors-List",4,"ngIf"],["pan","","class","tooltip",4,"ngIf"],["type","button",1,"add-author_btn",3,"disabled","click"],["formArrayName","authors",1,"authors-list"],["class","authors-list_item",4,"ngFor","ngForOf"],[1,"available-authors-List"],["class","available-authors_item",3,"click",4,"ngFor","ngForOf"],[1,"available-authors_item",3,"click"],["pan","",1,"tooltip"],[1,"authors-list_item"],[1,"author-name"],[1,"remove-author",3,"click"],[1,"material-icons"]],template:function(t,e){1&t&&(k.Ob(0,"form",0),k.Ob(1,"div",1),k.Ob(2,"div",2),k.Mb(3,"input",3),k.ic(4,he,2,1,"ul",4),k.Nb(),k.ic(5,de,2,0,"span",5),k.Ob(6,"button",6),k.Vb("click",function(){return e.addAuthor()}),k.jc(7,"Add author"),k.Nb(),k.Nb(),k.Ob(8,"div",7),k.ic(9,pe,6,1,"div",8),k.Nb(),k.Nb()),2&t&&(k.bc("formGroup",e.courseAuthors),k.Ab(4),k.bc("ngIf",e.availableAuthorsList.length),k.Ab(1),k.bc("ngIf",e.isValidateValue),k.Ab(1),k.bc("disabled",e.isValidateBtn),k.Ab(3),k.bc("ngForOf",e.authorsOfCourse))},directives:[Nt.v,Nt.o,Nt.i,Nt.a,Nt.n,Nt.g,Rt.k,Nt.c,Rt.j],styles:[".authors-form[_ngcontent-%COMP%]{flex-direction:column;height:92%}.add-author[_ngcontent-%COMP%], .authors-form[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.add-author[_ngcontent-%COMP%]{width:30%;min-width:320px;position:relative}.add-author[_ngcontent-%COMP%]   .author-input-wrapper[_ngcontent-%COMP%]{width:63%;position:relative}.add-author[_ngcontent-%COMP%]   .author-input-wrapper[_ngcontent-%COMP%]   .author-input[_ngcontent-%COMP%]{width:100%}.add-author[_ngcontent-%COMP%]   .available-authors-List[_ngcontent-%COMP%]{position:absolute;background-color:#06d0d0;border-radius:0 0 10px 10px;width:103%;padding:3px;box-shadow:0 16px 13px 2px rgba(34,60,80,.2)}.add-author[_ngcontent-%COMP%]   .available-authors-List[_ngcontent-%COMP%]   .available-authors_item[_ngcontent-%COMP%]{cursor:pointer}.add-author[_ngcontent-%COMP%]   .available-authors-List[_ngcontent-%COMP%]   .available-authors_item[_ngcontent-%COMP%]:hover{background-color:#0ff}.authors-list[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;grid-auto-rows:40px;grid-template-columns:repeat(3,170px);grid-gap:10px}.authors-list[_ngcontent-%COMP%]   .authors-list_item[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content;background-color:#4bdcdc;border-radius:10px;display:flex;padding:7px;align-items:center;gap:5px}.authors-list[_ngcontent-%COMP%]   .authors-list_item[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{font-size:.9rem}.authors-list[_ngcontent-%COMP%]   .authors-list_item[_ngcontent-%COMP%]   .remove-author[_ngcontent-%COMP%]{padding:0;width:24px;height:24px}.tooltip[_ngcontent-%COMP%]{top:30%;left:calc(100% + 20px);width:-webkit-max-content;width:max-content}"]}),t})();function be(t,e){1&t&&(k.Ob(0,"span",17),k.jc(1,"Min length 4 symbols, max length 50 symbols"),k.Nb())}function fe(t,e){1&t&&(k.Ob(0,"span",17),k.jc(1,"Min length 4 symbols, max length 500 symbols"),k.Nb())}function ge(t,e){if(1&t){const t=k.Pb();k.Ob(0,"form",2),k.Vb("ngSubmit",function(){return k.fc(t),k.Xb().submitNewCourse()}),k.Ob(1,"label",3),k.jc(2,"Title: "),k.Mb(3,"input",4),k.ic(4,be,2,0,"span",5),k.Nb(),k.Ob(5,"label",6),k.jc(6,"Description: "),k.Mb(7,"textarea",7),k.ic(8,fe,2,0,"span",5),k.Nb(),k.Ob(9,"label",8),k.jc(10,"Date: "),k.Mb(11,"app-date-input",9),k.Nb(),k.Ob(12,"label",10),k.jc(13,"Duration: "),k.Mb(14,"app-duration-input",11),k.Nb(),k.Ob(15,"label",12),k.jc(16,"Authors: "),k.Mb(17,"app-authors-input",13),k.Yb(18,"async"),k.Nb(),k.Ob(19,"div",14),k.Ob(20,"button",15),k.jc(21,"Save"),k.Nb(),k.Ob(22,"button",16),k.Vb("click",function(){return k.fc(t),k.Xb().moveToCoursesPage()}),k.jc(23,"Cancel"),k.Nb(),k.Nb(),k.Nb()}if(2&t){const t=k.Xb();k.bc("formGroup",t.courseParamsControl),k.Ab(4),k.bc("ngIf",t.isValidateValue("title")),k.Ab(4),k.bc("ngIf",t.isValidateValue("description")),k.Ab(9),k.bc("availableAuthors",k.Zb(18,5,t.authorsList)),k.Ab(3),k.bc("disabled",t.courseParamsControl.invalid)}}let Oe=(()=>{class t{constructor(t,e,r){this.courseService=t,this.formBuilder=e,this.store=r,this.subscriptionsList=[]}ngOnInit(){const t=this.store.select(Ht).subscribe(t=>{t&&(this.newCourse=t,this.title=`Course ${t.title||"New"}`,this.setCourse())});this.authorsList=this.store.select(Yt),this.subscriptionsList.push(t)}setCourse(){if(this.courseParamsControl)for(const t in this.courseParamsControl.controls)this.courseParamsControl.controls[t].setValue("authors"===t?this.newCourse[t].join("/"):this.newCourse[t]);else this.courseParamsControl=this.formBuilder.group({title:[this.newCourse.title,[...this.getValidatorsArray(50),Nt.u.pattern("[a-zA-Z0-9 -]*")]],description:[this.newCourse.description,this.getValidatorsArray(500)],date:[this.newCourse.date],duration:[this.newCourse.duration,[Nt.u.required,Nt.u.min(5),Nt.u.max(200)]],authors:[this.newCourse.authors.join("/")]})}getValidatorsArray(t){return[Nt.u.required,Nt.u.minLength(4),Nt.u.maxLength(t)]}isValidateValue(t){const e=this.courseParamsControl.controls[t];return e.invalid&&(e.dirty||e.touched)}submitNewCourse(){const t=new xt(Object.assign(Object.assign({},this.courseParamsControl.value),{id:this.newCourse.id,isTopRated:this.newCourse.isTopRated}));this.store.dispatch(te({newCourse:t}))}moveToCoursesPage(){this.courseService.moveToCoursesPageTarget.next()}ngOnDestroy(){this.subscriptionsList.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(It),k.Lb(Nt.d),k.Lb(a.i))},t.\u0275cmp=k.Fb({type:t,selectors:[["app-add-course-page"]],decls:2,vars:2,consts:[[3,"title"],["class","form_content",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form_content",3,"formGroup","ngSubmit"],[1,"form_content-title"],["formControlName","title"],["class","tooltip",4,"ngIf"],[1,"form_content-description"],["formControlName","description"],[1,"form_content-date"],["formControlName","date"],[1,"form_content-duration"],["formControlName","duration"],[1,"form_content-authors"],["formControlName","authors",3,"availableAuthors"],[1,"form_content-btn_wrapper"],["type","submit",3,"disabled"],["type","reset",3,"click"],[1,"tooltip"]],template:function(t,e){1&t&&(k.Mb(0,"app-breadcrumbs",0),k.ic(1,ge,24,7,"form",1)),2&t&&(k.bc("title",e.title),k.Ab(1),k.bc("ngIf",e.newCourse))},directives:[se,Rt.k,Nt.v,Nt.o,Nt.i,Nt.a,Nt.n,Nt.g,oe,ue,_e],pipes:[Rt.b],styles:[".form_content[_ngcontent-%COMP%]{margin:auto;padding-top:5vh;display:flex;justify-content:space-between;flex-direction:column;width:80%;height:75vh}.form_content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;display:block;font-size:1.1rem;font-weight:700;width:100%}.form_content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form_content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:30px}.form_content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:10vh}.form_content-btn_wrapper[_ngcontent-%COMP%]{display:flex;height:40px;width:170px;justify-content:space-between}"]}),t})();const me=Object(a.p)("search"),Ee=Object(a.r)(me,t=>t.value);let Ce=(()=>{class t{validate(t){let e;return e=this.isValidateValue(t.value)?null:{invalidValue:!0},Object(p.a)(e)}isValidateValue(t){if(!t)return!0;const e=t.length;return!!(e>=2&&e<=20&&t.match(/[a-zA-Z0-9 \-]*/))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=k.Gb({type:t,selectors:[["","appSearchValidator",""]],features:[k.zb([{provide:Nt.k,useExisting:t,multi:!0}])]}),t})();const we=["search"];function xe(t,e){1&t&&(k.Ob(0,"span",5),k.jc(1,"Use expressions of length 2 to 20 with spaces and dashes"),k.Nb())}let ye=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.inputSubscription=this.store.select(Ee).subscribe(t=>this.inputText=t)}findCoursesByInput(t){this.searchForm.valid&&this.store.dispatch(Ct({value:t}))}ngOnDestroy(){this.inputSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(a.i))},t.\u0275cmp=k.Fb({type:t,selectors:[["app-search"]],viewQuery:function(t,e){if(1&t&&k.mc(we,1),2&t){let t;k.dc(t=k.Wb())&&(e.searchForm=t.first)}},decls:6,vars:2,consts:[[1,"search"],["type","search","placeholder","Search by name, fragment or date","appSearchValidator","",3,"ngModel","ngModelChange"],["search","ngModel"],["class","tooltip",4,"ngIf"],["routerLink","/courses/new"],[1,"tooltip"]],template:function(t,e){if(1&t&&(k.Ob(0,"div",0),k.Ob(1,"input",1,2),k.Vb("ngModelChange",function(t){return e.inputText=t})("ngModelChange",function(t){return e.findCoursesByInput(t)}),k.Nb(),k.ic(3,xe,2,0,"span",3),k.Nb(),k.Ob(4,"button",4),k.jc(5,"Add course"),k.Nb()),2&t){const t=k.ec(2);k.Ab(1),k.bc("ngModel",e.inputText),k.Ab(2),k.bc("ngIf",t.invalid)}},directives:[Nt.a,Ce,Nt.n,Nt.q,Rt.k,jt.f],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;margin-bottom:50px}[_nghost-%COMP%]   .search[_ngcontent-%COMP%]{position:relative;width:80%}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{margin-right:25px;width:100%;max-width:365px;min-width:300px}"]}),t})(),ve=(()=>{class t{constructor(){this.confirmDeletion=new k.n,this.undoDeletion=new k.n}onConfirmDeletion(){this.confirmDeletion.emit()}onUndoDeletion(){this.undoDeletion.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k.Fb({type:t,selectors:[["app-confirmation"]],outputs:{confirmDeletion:"confirmDeletion",undoDeletion:"undoDeletion"},decls:10,vars:0,consts:[["id","close",1,"pop-up"],[1,"pop-up_wrapper"],[1,"pop-up_title"],[1,"btn-wrapper"],[3,"click"]],template:function(t,e){1&t&&(k.Ob(0,"div",0),k.Ob(1,"div",1),k.Ob(2,"div",2),k.Ob(3,"h5"),k.jc(4,"Do you really want to delete this course?"),k.Nb(),k.Nb(),k.Ob(5,"div",3),k.Ob(6,"button",4),k.Vb("click",function(){return e.onConfirmDeletion()}),k.jc(7,"Yes"),k.Nb(),k.Ob(8,"button",4),k.Vb("click",function(){return e.onUndoDeletion()}),k.jc(9,"No"),k.Nb(),k.Nb(),k.Nb(),k.Nb())},styles:[".pop-up_wrapper[_ngcontent-%COMP%]{width:90vw;height:80vh;max-width:500px;max-height:200px}.pop-up_wrapper[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]{display:flex;width:70%;margin:auto;justify-content:space-between}.pop-up_wrapper[_ngcontent-%COMP%]   .btn-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:15px 25px}"]}),t})();function Se(t,e){1&t&&(k.Ob(0,"span",9),k.jc(1," star_border "),k.Nb())}function Me(t,e){if(1&t){const t=k.Pb();k.Ob(0,"app-confirmation",10),k.Vb("confirmDeletion",function(){return k.fc(t),k.Xb().onDeleteCourse()})("undoDeletion",function(){return k.fc(t),k.Xb().toggleConfirmation()}),k.Nb()}}const Ae=function(t){return[t]};let je=(()=>{class t{constructor(){this.deleteCourse=new k.n}toggleConfirmation(){this.isShowConfirmation=!this.isShowConfirmation}onDeleteCourse(){this.toggleConfirmation(),this.deleteCourse.emit(this.course.id)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k.Fb({type:t,selectors:[["app-course-item"]],inputs:{course:"course"},outputs:{deleteCourse:"deleteCourse"},decls:22,vars:18,consts:[[1,"item-wrapper"],[1,"item-content"],[1,"item-title"],[1,"item-date"],["class","material-icons",4,"ngIf"],[1,"item-btn"],[3,"routerLink"],[3,"click"],[3,"confirmDeletion","undoDeletion",4,"ngIf"],[1,"material-icons"],[3,"confirmDeletion","undoDeletion"]],template:function(t,e){1&t&&(k.Ob(0,"div",0),k.Ob(1,"div",1),k.Ob(2,"div",2),k.Ob(3,"h3"),k.jc(4),k.Yb(5,"uppercase"),k.Nb(),k.Ob(6,"div",3),k.ic(7,Se,2,0,"span",4),k.Ob(8,"span"),k.jc(9),k.Yb(10,"duration"),k.Nb(),k.Ob(11,"span"),k.jc(12),k.Yb(13,"date"),k.Nb(),k.Nb(),k.Nb(),k.Ob(14,"p"),k.jc(15),k.Nb(),k.Nb(),k.Ob(16,"div",5),k.Ob(17,"button",6),k.jc(18,"Edit"),k.Nb(),k.Ob(19,"button",7),k.Vb("click",function(){return e.toggleConfirmation()}),k.jc(20,"Delete"),k.Nb(),k.Nb(),k.ic(21,Me,1,0,"app-confirmation",8),k.Nb()),2&t&&(k.Db("rate",e.course.isTopRated),k.Ab(4),k.kc(k.Zb(5,9,"Course "+e.course.title)),k.Ab(3),k.bc("ngIf",e.course.isTopRated),k.Ab(2),k.kc(k.Zb(10,11,e.course.duration)),k.Ab(3),k.kc(k.ac(13,13,e.course.date,"EEE, dd MMM yyy")),k.Ab(3),k.kc(e.course.description),k.Ab(2),k.bc("routerLink",k.cc(16,Ae,e.course.id)),k.Ab(4),k.bc("ngIf",e.isShowConfirmation))},directives:[Rt.k,jt.f,ve],pipes:[Rt.o,ie,Rt.e],styles:["[_nghost-%COMP%]{display:block;width:100%;margin-bottom:20px;box-shadow:0 5px 10px 2px rgba(34,60,80,.2);border-radius:10px}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;padding:7px;border-radius:10px;background-color:#4bdcdc}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{padding:15px;width:90%}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .item-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-bottom:5px}.item-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.item-title[_ngcontent-%COMP%]   .item-date[_ngcontent-%COMP%]{display:flex;text-align:center}.item-title[_ngcontent-%COMP%]   .item-date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.rate[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4bdcdc 17%,#eaec5c)}"],changeDetection:0}),t})(),Pe=(()=>{class t{constructor(){this.currentDate=(new Date).getTime()}ngOnChanges(){const t=this.course.date.getTime();this.isUpcomingCourse(t)?this.elementClass="course-item_upcoming":this.isFreshCourse(t)&&(this.elementClass="course-item_fresh")}isUpcomingCourse(t){return t>=this.currentDate}isFreshCourse(t){const e=t/864e5,r=this.currentDate/864e5;return e<r&&e>=r-14}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=k.Gb({type:t,selectors:[["","appDateColor",""]],hostVars:2,hostBindings:function(t,e){2&t&&k.Cb(e.elementClass)},inputs:{course:"course"},features:[k.yb]}),t})();function Te(t,e){if(1&t){const t=k.Pb();k.Ob(0,"app-course-item",4),k.Vb("deleteCourse",function(e){return k.fc(t),k.Xb(2).onCourseItem(e)}),k.Nb()}2&t&&k.bc("course",e.$implicit)}function Ie(t,e){if(1&t){const t=k.Pb();k.Ob(0,"button",5),k.Vb("click",function(){return k.fc(t),k.Xb(2).onLoadMore()}),k.jc(1,"LOAD MORE"),k.Nb()}}function De(t,e){if(1&t&&(k.Ob(0,"div"),k.ic(1,Te,1,1,"app-course-item",2),k.ic(2,Ie,2,0,"button",3),k.Nb()),2&t){const t=k.Xb();k.Ab(1),k.bc("ngForOf",t.coursesList),k.Ab(1),k.bc("ngIf",t.isShowLoadMore)}}function Re(t,e){1&t&&(k.Ob(0,"div",6),k.Ob(1,"span"),k.jc(2,"NO DATA. FEEL FREE TO ADD NEW COURSE"),k.Nb(),k.Nb())}let Ne=(()=>{class t{constructor(){this.courseDeletion=new k.n,this.loadMore=new k.n}onCourseItem(t){this.courseDeletion.emit(t)}onLoadMore(){this.loadMore.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=k.Fb({type:t,selectors:[["app-course-list"]],inputs:{coursesList:"coursesList",isShowLoadMore:"isShowLoadMore"},outputs:{courseDeletion:"courseDeletion",loadMore:"loadMore"},decls:4,vars:2,consts:[[4,"ngIf"],["class","message-nodata",4,"ngIf"],["appDateColor","",3,"course","deleteCourse",4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],["appDateColor","",3,"course","deleteCourse"],[3,"click"],[1,"message-nodata"]],template:function(t,e){1&t&&(k.Mb(0,"app-breadcrumbs"),k.Mb(1,"app-search"),k.ic(2,De,3,2,"div",0),k.ic(3,Re,3,0,"div",1)),2&t&&(k.Ab(2),k.bc("ngIf",e.coursesList),k.Ab(1),k.bc("ngIf",!e.coursesList))},directives:[se,ye,Rt.k,Rt.j,je,Pe],styles:["button[_ngcontent-%COMP%]{width:100%}.course-item_upcoming[_ngcontent-%COMP%]{border:2px solid rgba(2,122,235,.733);box-shadow:0 2px 10px 2px rgba(0,120,255,.7)}.course-item_fresh[_ngcontent-%COMP%]{border:2px solid #05db4c;box-shadow:0 2px 10px 2px rgba(3,131,46,.733)}.message-nodata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),t})();const Le=[{path:"",component:(()=>{class t{constructor(t,e){this.courseService=t,this.store=e}ngOnInit(){this.isShowLoadMoreBtn$=this.store.select(Mt),this.courses$=this.store.select(vt)}onDeleteCourse(t){this.store.dispatch(mt({courseId:t}))}onLoadMore(){this.store.dispatch(bt())}}return t.\u0275fac=function(e){return new(e||t)(k.Lb(It),k.Lb(a.i))},t.\u0275cmp=k.Fb({type:t,selectors:[["app-custom-course-list"]],decls:3,vars:6,consts:[[3,"coursesList","isShowLoadMore","courseDeletion","loadMore"]],template:function(t,e){1&t&&(k.Ob(0,"app-course-list",0),k.Vb("courseDeletion",function(t){return e.onDeleteCourse(t)})("loadMore",function(){return e.onLoadMore()}),k.Yb(1,"async"),k.Yb(2,"async"),k.Nb()),2&t&&k.bc("coursesList",k.Zb(1,2,e.courses$))("isShowLoadMore",k.Zb(2,4,e.isShowLoadMoreBtn$))},directives:[Ne],pipes:[Rt.b],styles:[""]}),t})()},{path:"new",component:Oe},{path:":id",component:Oe}];let ke=(()=>{class t{}return t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({factory:function(e){return new(e||t)},imports:[[jt.g.forChild(Le)],jt.g]}),t})();var Fe=r("Dk7Y");let Be=(()=>{class t{constructor(t,e){this.coursesService=t,this.actions$=e,this.getCourses$=B(()=>this.actions$.pipe(q("@ngrx/effects/init"),Object(M.a)(()=>this.coursesService.getCoursesListFromStorage.pipe(Object(o.a)(t=>t?pt({courses:t}):_t()))))),this.refreshCourses$=B(()=>this.actions$.pipe(q(dt.doRefreshCourses),Object(M.a)(()=>this.coursesService.refreshCoursesList.pipe(Object(o.a)(t=>pt({courses:t})))))),this.getMoreCourses$=B(()=>this.actions$.pipe(q(dt.getMoreCourses),Object(M.a)(()=>Object(p.a)(Ot(),_t())))),this.deleteCourseById$=B(()=>this.actions$.pipe(q(dt.doDeleteCourseById),Object(M.a)(({courseId:t})=>this.coursesService.deleteCourse(t).pipe(Object(o.a)(()=>_t())))))}}return t.\u0275fac=function(e){return new(e||t)(k.Sb(It),k.Sb($))},t.\u0275prov=k.Hb({token:t,factory:t.\u0275fac}),t})();const Ue=Object(a.q)({courses:null,pageNumber:1,isSearchCourses:!1,isShowLoadMoreBtn:!0,isShowConfirmation:!1},Object(a.t)(pt,(t,{courses:e})=>Object.assign(Object.assign({},t),{courses:e})),Object(a.t)(Ot,t=>Object.assign(Object.assign({},t),{pageNumber:t.pageNumber+1})),Object(a.t)(ft,(t,{isShowLoadMoreBtn:e})=>Object.assign(Object.assign({},t),{isShowLoadMoreBtn:e})),Object(a.t)(gt,(t,{isSearchCourses:e})=>Object.assign(Object.assign({},t),{isSearchCourses:e}))),We={course:new xt({title:"",date:new Date,duration:0,description:"",isTopRated:!1,authors:[""]}),isNewCourse:!0,authorsList:[]},Ve=Object(a.q)(We,Object(a.t)(Qt,(t,{newCourse:e})=>Object.assign(Object.assign({},t),{course:e})),Object(a.t)(ee,(t,{isNewCourse:e})=>Object.assign(Object.assign({},t),{isNewCourse:e})),Object(a.t)(re,(t,{authorsList:e})=>Object.assign(Object.assign({},t),{authorsList:e}))),Ke=Object(a.q)({value:""},Object(a.t)(Ct,(t,{value:e})=>Object.assign(Object.assign({},t),{value:e}))),ze={coursesList:function(t,e){return Ue(t,e)},search:function(t,e){return Ke(t,e)},newCourse:function(t,e){return Ve(t,e)},router:function(t,e){const r=e;switch(r.type){case"@ngrx/router-store/navigation":case kt:case"@ngrx/router-store/cancel":return{state:r.payload.routerState,navigationId:r.payload.event.id};default:return t}}};var $e=r("JX91");let qe=(()=>{class t{constructor(t,e,r){this.coursesService=t,this.store=e,this.actions$=r,this.getNewCourses$=B(()=>this.actions$.pipe(q("@ngrx/router-store/navigated"),Object(i.a)(t=>!!t.payload.routerState.root.firstChild.firstChild.routeConfig.path),Object(c.a)(t=>{const e=t.payload.routerState.root.firstChild.firstChild.params.id;if(e)return this.store.select(St).pipe(Object(M.a)(t=>{const r=t.find(t=>t.id===+e);return r?Object(p.a)(r):this.coursesService.getCourseByIdFromNetwork(e)}),Object(o.a)(t=>t instanceof xt?Qt({newCourse:t}):t),Object($e.a)(ee({isNewCourse:!1})));const r=this.coursesService.createNewCourse();return Object(p.a)(Qt({newCourse:r}),ee({isNewCourse:!0}))}))),this.setNewCourse$=B(()=>this.actions$.pipe(q(Zt.doSubmitNewCourse),Object(c.a)(t=>this.store.select(Jt).pipe(Object(M.a)(e=>e?this.coursesService.addNewCourseToNetwork(t.newCourse):this.coursesService.updateCourseToNetwork(t.newCourse)))),Object(wt.a)(()=>this.coursesService.moveToCoursesPageTarget.next()),Object(o.a)(()=>_t()))),this.getAuthors$=B(()=>this.actions$.pipe(q("@ngrx/effects/init"),Object(M.a)(()=>this.coursesService.getAuthorsListFromStorage.pipe(Object(M.a)(t=>t?Object(p.a)(t):this.coursesService.getAuthorsListFromNetwork))),Object(o.a)(t=>re({authorsList:t}))))}}return t.\u0275fac=function(e){return new(e||t)(k.Sb(It),k.Sb(a.i),k.Sb($))},t.\u0275prov=k.Hb({token:t,factory:t.\u0275fac}),t})(),Ge=(()=>{class t{}return t.\u0275mod=k.Jb({type:t}),t.\u0275inj=k.Ib({factory:function(e){return new(e||t)},providers:[It],imports:[[Rt.c,Nt.j,jt.g,Fe.a,ke,Nt.s,a.k.forRoot(ze),at.forRoot([Be,Dt,qe]),Lt.a.instrument(),qt.forRoot()]]}),t})()},D0XW:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var s=r("3N8a");const n=new(r("IjjT").a)(s.a)},IjjT:function(t,e,r){"use strict";r.d(e,"a",function(){return n});let s=(()=>{class t{constructor(e,r=t.now){this.SchedulerAction=e,this.now=r}schedule(t,e=0,r){return new this.SchedulerAction(this,t).schedule(r,e)}}return t.now=()=>Date.now(),t})();class n extends s{constructor(t,e=s.now){super(t,()=>n.delegate&&n.delegate!==this?n.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,r){return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):super.schedule(t,e,r)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}},Kj3r:function(t,e,r){"use strict";r.d(e,"a",function(){return o});var s=r("7o/Q"),n=r("D0XW");function o(t,e=n.a){return r=>r.lift(new i(t,e))}class i{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new c(t,this.dueTime,this.scheduler))}}class c extends s.a{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(a,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function a(t){t.debouncedNext()}},WMd4:function(t,e,r){"use strict";r.d(e,"a",function(){return i});var s=r("EY2u"),n=r("LRne"),o=r("z6cu");let i=(()=>{class t{constructor(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}}accept(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)}toObservable(){switch(this.kind){case"N":return Object(n.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(s.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},agSv:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("l7P3"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EY2u"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("HDdC"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("LRne"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("VRyK"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("qgXg"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("jtHE"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("w1tV"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("bOdf"),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("tS1D"),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("Kj3r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1G5W"),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("zP0r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("pxpQ"),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("zp1y"),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("Kqap");class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(t){const e={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},r="function"==typeof t?t():t,s=Object.assign({},e,{features:r.features||!!r.logOnly&&{pause:!0,export:!0,test:!0}||e.features},r);if(s.maxAge&&s.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${s.maxAge}`);return s}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=PERFORM_ACTION,void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(t){this.timestamp=t,this.type=RESET}}class Rollback{constructor(t){this.timestamp=t,this.type=ROLLBACK}}class Commit{constructor(t){this.timestamp=t,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(t){this.id=t,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(t,e,r=!0){this.start=t,this.end=e,this.active=r,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(t){this.index=t,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(t){this.actionId=t,this.type=JUMP_TO_ACTION}}class ImportState{constructor(t){this.nextLiftedState=t,this.type=IMPORT_STATE}}class LockChanges{constructor(t){this.status=t,this.type=LOCK_CHANGES}}class PauseRecording{constructor(t){this.status=t,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class t extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b{}return t.\u0275fac=function(e){return \u0275DevtoolsDispatcher_BaseFactory(e||t)},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Hb({token:t,factory:t.\u0275fac}),t})();const \u0275DevtoolsDispatcher_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Qb(DevtoolsDispatcher);function difference(t,e){return t.filter(t=>e.indexOf(t)<0)}function unliftState(t){const{computedStates:e,currentStateIndex:r}=t;if(r>=e.length){const{state:t}=e[e.length-1];return t}const{state:s}=e[r];return s}function unliftAction(t){return t.actionsById[t.nextActionId-1]}function liftAction(t){return new PerformAction(t,+Date.now())}function sanitizeActions(t,e){return Object.keys(e).reduce((r,s)=>{const n=Number(s);return r[n]=sanitizeAction(t,e[n],n),r},{})}function sanitizeAction(t,e,r){return Object.assign(Object.assign({},e),{action:t(e.action,r)})}function sanitizeStates(t,e){return e.map((e,r)=>({state:sanitizeState(t,e.state,r),error:e.error}))}function sanitizeState(t,e,r){return t(e,r)}function shouldFilterActions(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function filterLiftedState(t,e,r,s){const n=[],o={},i=[];return t.stagedActionIds.forEach((c,a)=>{const u=t.actionsById[c];u&&(a&&isActionFiltered(t.computedStates[a],u,e,r,s)||(o[c]=u,n.push(c),i.push(t.computedStates[a])))}),Object.assign(Object.assign({},t),{stagedActionIds:n,actionsById:o,computedStates:i})}function isActionFiltered(t,e,r,s,n){const o=r&&!r(t,e.action),i=s&&!e.action.type.match(s.map(t=>escapeRegExp(t)).join("|")),c=n&&e.action.type.match(n.map(t=>escapeRegExp(t)).join("|"));return o||i||c}function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(t,e,r){this.config=e,this.dispatcher=r,this.devtoolsExtension=t,this.createActionStreams()}notify(t,e){if(this.devtoolsExtension)if(t.type===PERFORM_ACTION){if(e.isLocked||e.isPaused)return;const r=unliftState(e);if(shouldFilterActions(this.config)&&isActionFiltered(r,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const s=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,r,e.currentStateIndex):r,n=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,t,e.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(n,s))}else{const t=Object.assign(Object.assign({},e),{stagedActionIds:e.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,e.actionsById):e.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,e.computedStates):e.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,t,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.a(t=>{const e=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=e,e.init(),e.subscribe(e=>t.next(e)),e.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.a}createActionStreams(){const t=this.createChangesObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)()),e=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.START)),r=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.STOP)),s=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.DISPATCH),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(t=>this.unwrapAction(t.payload)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.a)(t=>t.type===IMPORT_STATE?this.dispatcher.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.m),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(()=>t),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.a)(1)):Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t))),n=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.ACTION),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(t=>this.unwrapAction(t.payload))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(r)),o=s.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(r));this.start$=e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(r)),this.actions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>n)),this.liftedActions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>o))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(t){const e={name:t.name,features:t.features,serialize:t.serialize};return!1!==t.maxAge&&(e.maxAge=t.maxAge),e}sendToReduxDevtools(t){try{t()}catch(e){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",e)}}}return DevtoolsExtension.\u0275fac=function(t){return new(t||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Hb({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.c},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(t,e,r,s,n){if(s)return{state:r,error:"Interrupted by an error up the chain"};let o,i=r;try{i=t(r,e)}catch(c){o=c.toString(),n.handleError(c)}return{state:i,error:o}}function recomputeStates(t,e,r,s,n,o,i,c,a){if(e>=t.length&&t.length===o.length)return t;const u=t.slice(0,e),l=o.length-(a?1:0);for(let h=e;h<l;h++){const t=o[h],e=n[t].action,a=u[h-1],l=a?a.state:s,d=a?a.error:void 0,p=i.indexOf(t)>-1?a:computeNextEntry(r,e,l,d,c);u.push(p)}return a&&u.push(t[t.length-1]),u}function liftInitialState(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(t,e,r,s,n={}){return o=>(i,c)=>{let{monitorState:a,actionsById:u,nextActionId:l,stagedActionIds:h,skippedActionIds:d,committedState:p,currentStateIndex:_,computedStates:b,isLocked:f,isPaused:g}=i||e;function O(t){let e=t,r=h.slice(1,e+1);for(let s=0;s<r.length;s++){if(b[s+1].error){e=s,r=h.slice(1,e+1);break}delete u[r[s]]}d=d.filter(t=>-1===r.indexOf(t)),h=[0,...h.slice(e+1)],p=b[e].state,b=b.slice(e),_=_>e?_-e:0}function m(){u={0:liftAction(INIT_ACTION)},l=1,h=[0],d=[],p=b[_].state,_=0,b=[]}i||(u=Object.create(u));let E=0;switch(c.type){case LOCK_CHANGES:f=c.status,E=1/0;break;case PAUSE_RECORDING:g=c.status,g?(h=[...h,l],u[l]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),l++,E=h.length-1,b=b.concat(b[b.length-1]),_===h.length-2&&_++,E=1/0):m();break;case RESET:u={0:liftAction(INIT_ACTION)},l=1,h=[0],d=[],p=t,_=0,b=[];break;case COMMIT:m();break;case ROLLBACK:u={0:liftAction(INIT_ACTION)},l=1,h=[0],d=[],_=0,b=[];break;case TOGGLE_ACTION:{const{id:t}=c,e=d.indexOf(t);d=-1===e?[t,...d]:d.filter(e=>e!==t),E=h.indexOf(t);break}case SET_ACTIONS_ACTIVE:{const{start:t,end:e,active:r}=c,s=[];for(let n=t;n<e;n++)s.push(n);d=r?difference(d,s):[...d,...s],E=h.indexOf(t);break}case JUMP_TO_STATE:_=c.index,E=1/0;break;case JUMP_TO_ACTION:{const t=h.indexOf(c.actionId);-1!==t&&(_=t),E=1/0;break}case SWEEP:h=difference(h,d),d=[],_=Math.min(_,h.length-1);break;case PERFORM_ACTION:{if(f)return i||e;if(g||i&&isActionFiltered(i.computedStates[_],c,n.predicate,n.actionsSafelist,n.actionsBlocklist)){const t=b[b.length-1];b=[...b.slice(0,-1),computeNextEntry(o,c.action,t.state,t.error,r)],E=1/0;break}n.maxAge&&h.length===n.maxAge&&O(1),_===h.length-1&&_++;const t=l++;u[t]=c,h=[...h,t],E=h.length-1;break}case IMPORT_STATE:({monitorState:a,actionsById:u,nextActionId:l,stagedActionIds:h,skippedActionIds:d,committedState:p,currentStateIndex:_,computedStates:b,isLocked:f,isPaused:g}=c.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.c:E=0,n.maxAge&&h.length>n.maxAge&&(b=recomputeStates(b,E,o,p,u,h,d,r,g),O(h.length-n.maxAge),E=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.m:if(b.filter(t=>t.error).length>0)E=0,n.maxAge&&h.length>n.maxAge&&(b=recomputeStates(b,E,o,p,u,h,d,r,g),O(h.length-n.maxAge),E=1/0);else{if(!g&&!f){_===h.length-1&&_++;const t=l++;u[t]=new PerformAction(c,+Date.now()),h=[...h,t],E=h.length-1,b=recomputeStates(b,E,o,p,u,h,d,r,g)}b=b.map(t=>Object.assign(Object.assign({},t),{state:o(t.state,RECOMPUTE_ACTION)})),_=h.length-1,n.maxAge&&h.length>n.maxAge&&O(h.length-n.maxAge),E=1/0}break;default:E=1/0}return b=recomputeStates(b,E,o,p,u,h,d,r,g),a=s(a,c),{monitorState:a,actionsById:u,nextActionId:l,stagedActionIds:h,skippedActionIds:d,committedState:p,currentStateIndex:_,computedStates:b,isLocked:f,isPaused:g}}}let StoreDevtools=(()=>{class t{constructor(t,e,r,s,n,o,i,c){const a=liftInitialState(i,c.monitor),u=liftReducerWith(i,a,o,c.monitor,c),l=Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(e.asObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.a)(1)),s.actions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(liftAction)),t,s.liftedActions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.b)(rxjs__WEBPACK_IMPORTED_MODULE_6__.b)),h=r.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(u)),d=new rxjs__WEBPACK_IMPORTED_MODULE_7__.a(1),p=l.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(h),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(({state:t},[e,r])=>{let n=r(t,e);return e.type!==PERFORM_ACTION&&shouldFilterActions(c)&&(n=filterLiftedState(n,c.predicate,c.actionsSafelist,c.actionsBlocklist)),s.notify(e,n),{state:n,action:e}},{state:a,action:null})).subscribe(({state:t,action:e})=>{d.next(t),e.type===PERFORM_ACTION&&n.next(e.action)}),_=s.start$.subscribe(()=>{this.refresh()}),b=d.asObservable(),f=b.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(unliftState));this.extensionStartSubscription=_,this.stateSubscription=p,this.dispatcher=t,this.liftedState=b,this.state=f}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new PerformAction(t,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(t){this.dispatch(new ToggleAction(t))}jumpToAction(t){this.dispatch(new JumpToAction(t))}jumpToState(t){this.dispatch(new JumpToState(t))}importState(t){this.dispatch(new ImportState(t))}lockChanges(t){this.dispatch(new LockChanges(t))}pauseRecording(t){this.dispatch(new PauseRecording(t))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.g),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.m),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.d),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Sb(STORE_DEVTOOLS_CONFIG))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Hb({token:t,factory:t.\u0275fac}),t})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(t,e){return Boolean(t)||e.monitor!==noMonitor}function createReduxDevtoolsExtension(){return"object"==typeof window&&void 0!==window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:null}function createStateObservable(t){return t.state}let StoreDevtoolsModule=(()=>{class t{static instrument(e={}){return{ngModule:t,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:e},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.h,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.e,useExisting:DevtoolsDispatcher}]}}}return t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Jb({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ib({factory:function(e){return new(e||t)}}),t})()},jtHE:function(t,e,r){"use strict";r.d(e,"a",function(){return u});var s=r("XNiG"),n=r("qgXg"),o=r("quSY"),i=r("pxpQ"),c=r("9ppp"),a=r("Ylt2");class u extends s.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,n=r.length;let u;if(this.closed)throw new c.a;if(this.isStopped||this.hasError?u=o.a.EMPTY:(this.observers.push(t),u=new a.a(this,t)),s&&t.add(t=new i.a(t,s)),e)for(let o=0;o<n&&!t.closed;o++)t.next(r[o]);else for(let o=0;o<n&&!t.closed;o++)t.next(r[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||n.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,s=this._events,n=s.length;let o=0;for(;o<n&&!(t-s[o].time<r);)o++;return n>e&&(o=Math.max(o,n-e)),o>0&&s.splice(0,o),s}}class l{constructor(t,e){this.time=t,this.value=e}}},l7P3:function(t,e,r){"use strict";r.d(e,"a",function(){return B}),r.d(e,"b",function(){return O}),r.d(e,"c",function(){return g}),r.d(e,"d",function(){return w}),r.d(e,"e",function(){return $}),r.d(e,"f",function(){return z}),r.d(e,"g",function(){return H}),r.d(e,"h",function(){return Z}),r.d(e,"i",function(){return rt}),r.d(e,"j",function(){return Pt}),r.d(e,"k",function(){return Tt}),r.d(e,"l",function(){return jt}),r.d(e,"m",function(){return q}),r.d(e,"n",function(){return V}),r.d(e,"o",function(){return _}),r.d(e,"p",function(){return ht}),r.d(e,"q",function(){return Bt}),r.d(e,"r",function(){return ut}),r.d(e,"s",function(){return ot}),r.d(e,"t",function(){return Ft}),r.d(e,"u",function(){return b}),r.d(e,"v",function(){return nt});var s=r("fXoL"),n=r("2Vo4"),o=r("HDdC"),i=r("XNiG"),c=r("qgXg"),a=r("pxpQ"),u=r("zp1y"),l=r("Kqap"),h=r("lJxs"),d=r("/uUt");const p={};function _(t,e){if(p[t]=(p[t]||0)+1,"function"==typeof e)return f(t,(...r)=>Object.assign(Object.assign({},e(...r)),{type:t}));switch(e?e._as:"empty"){case"empty":return f(t,()=>({type:t}));case"props":return f(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function b(){return{_as:"props",_p:void 0}}function f(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const g="@ngrx/store/init";let O=(()=>{class t extends n.a{constructor(){super({type:g})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac}),t})();const m=[O],E=new s.r("@ngrx/store Internal Root Guard"),C=new s.r("@ngrx/store Internal Initial State"),w=new s.r("@ngrx/store Initial State"),x=new s.r("@ngrx/store Reducer Factory"),y=new s.r("@ngrx/store Internal Reducer Factory Provider"),v=new s.r("@ngrx/store Initial Reducers"),S=new s.r("@ngrx/store Internal Initial Reducers"),M=new s.r("@ngrx/store Store Features"),A=new s.r("@ngrx/store Internal Store Reducers"),j=new s.r("@ngrx/store Internal Feature Reducers"),P=new s.r("@ngrx/store Internal Feature Configs"),T=new s.r("@ngrx/store Internal Store Features"),I=new s.r("@ngrx/store Internal Feature Reducers Token"),D=new s.r("@ngrx/store Feature Reducers"),R=new s.r("@ngrx/store User Provided Meta Reducers"),N=new s.r("@ngrx/store Meta Reducers"),L=new s.r("@ngrx/store Internal Resolved Meta Reducers"),k=new s.r("@ngrx/store User Runtime Checks Config"),F=new s.r("@ngrx/store Internal User Runtime Checks Config"),B=new s.r("@ngrx/store Internal Runtime Checks"),U=new s.r("@ngrx/store Check if Action types are unique");function W(t,e={}){const r=Object.keys(t),s={};for(let o=0;o<r.length;o++){const e=r[o];"function"==typeof t[e]&&(s[e]=t[e])}const n=Object.keys(s);return function(t,r){t=void 0===t?e:t;let o=!1;const i={};for(let e=0;e<n.length;e++){const c=n[e],a=t[c],u=(0,s[c])(a,r);i[c]=u,o=o||u!==a}return o?i:t}}function V(...t){return function(e){if(0===t.length)return e;const r=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),r(e))}}function K(t,e){return Array.isArray(e)&&e.length>0&&(t=V.apply(null,[...e,t])),(e,r)=>{const s=t(e);return(t,e)=>s(t=void 0===t?r:t,e)}}class z extends o.a{}class $ extends O{}const q="@ngrx/store/update-reducers";let G=(()=>{class t extends n.a{constructor(t,e,r,s){super(s(r,e)),this.dispatcher=t,this.initialState=e,this.reducers=r,this.reducerFactory=s}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:r,metaReducers:s,initialState:n,key:o})=>{const i="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?V(...t):t=>t;return(t,r)=>(t=e(t),(e,s)=>t(e=void 0===e?r:e,s))}(s)(e,n):K(r,s)(e,n);return t[o]=i,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,r;this.reducers=(e=this.reducers,r=t,Object.keys(e).filter(t=>t!==r).reduce((t,r)=>Object.assign(t,{[r]:e[r]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:q,features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Sb($),s.Sb(w),s.Sb(v),s.Sb(x))},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac}),t})();const X=[G,{provide:z,useExisting:G},{provide:$,useExisting:O}];let H=(()=>{class t extends i.a{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return J(e||t)},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac}),t})();const J=s.Qb(H),Y=[H];class Z extends o.a{}let Q=(()=>{class t extends n.a{constructor(t,e,r,s){super(s);const n={state:s},o=t.pipe(Object(a.b)(c.b)).pipe(Object(u.a)(e)).pipe(Object(l.a)(tt,n));this.stateSubscription=o.subscribe(({state:t,action:e})=>{this.next(t),r.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(O),s.Sb(z),s.Sb(H),s.Sb(w))},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac}),t.INIT=g,t})();function tt(t={state:void 0},[e,r]){const{state:s}=t;return{state:r(s,e),action:e}}const et=[Q,{provide:Z,useExisting:Q}];let rt=(()=>{class t extends o.a{constructor(t,e,r){super(),this.actionsObserver=e,this.reducerManager=r,this.source=t}select(t,...e){return nt.call(null,t,...e)(this)}lift(e){const r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=e,r}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(Z),s.Sb(O),s.Sb(G))},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac}),t})();const st=[rt];function nt(t,e,...r){return function(s){let n;if("string"==typeof t){const o=[e,...r].filter(Boolean);n=s.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return r=>Object(h.a)(function(t,e){return r=>{let s=r;for(let n=0;n<e;n++){const e=null!=s?s[t[n]]:void 0;if(void 0===e)return;s=e}return s}}(t,e))(r)}(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);n=s.pipe(Object(h.a)(r=>t(r,e)))}return n.pipe(Object(d.a)())}}function ot(){return!1}function it(t,e){return t===e}function ct(t,e,r){for(let s=0;s<t.length;s++)if(!r(t[s],e[s]))return!0;return!1}function at(t,e=it,r=it){let s,n=null,o=null;return{memoized:function(){if(void 0!==s)return s.result;if(!n)return o=t.apply(null,arguments),n=arguments,o;if(!ct(arguments,n,e))return o;const i=t.apply(null,arguments);return n=arguments,r(o,i)?o:(o=i,i)},reset:function(){n=null,o=null},setResult:function(t){s={result:t}},clearResult:function(){s=void 0}}}function ut(...t){return function(t,e={stateFn:lt}){return function(...r){let s=r;if(Array.isArray(s[0])){const[t,...e]=s;s=[...t,...e]}const n=s.slice(0,s.length-1),o=s[s.length-1],i=n.filter(t=>t.release&&"function"==typeof t.release),c=t(function(...t){return o.apply(null,t)}),a=at(function(t,r){return e.stateFn.apply(null,[t,n,r,c])});return Object.assign(a.memoized,{release:function(){a.reset(),c.reset(),i.forEach(t=>t.release())},projector:c.memoized,setResult:a.setResult,clearResult:a.clearResult})}}(at)(...t)}function lt(t,e,r,s){if(void 0===r){const r=e.map(e=>e(t));return s.memoized.apply(null,r)}const n=e.map(e=>e(t,r));return s.memoized.apply(null,[...n,r])}function ht(t){return ut(e=>{const r=e[t];return!Object(s.V)()||t in e||console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),r},t=>t)}const dt="https://ngrx.io/guide/store/configuration/runtime-checks";function pt(t){return void 0===t}function _t(t){return null===t}function bt(t){return Array.isArray(t)}function ft(t){return"object"==typeof t&&null!==t}function gt(t){return"function"==typeof t}function Ot(t){Object.freeze(t);const e=gt(t);return Object.getOwnPropertyNames(t).forEach(r=>{if(!r.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,r)&&(!e||"caller"!==r&&"callee"!==r&&"arguments"!==r)){const e=t[r];!ft(e)&&!gt(e)||Object.isFrozen(e)||Ot(e)}}),t}function mt(t,e=[]){return(pt(t)||_t(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((r,s)=>{if(r)return r;const n=t[s];return function(t){return gt(t)&&t.hasOwnProperty("\u0275cmp")}(n)?r:!(pt(n)||_t(n)||function(t){return"number"==typeof t}(n)||function(t){return"boolean"==typeof t}(n)||function(t){return"string"==typeof t}(n)||bt(n))&&(function(t){if(!function(t){return ft(t)&&!bt(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(n)?mt(n,[...e,s]):{path:[...e,s],value:n})},!1)}function Et(t,e){if(!1===t)return;const r=t.path.join("."),s=new Error(`Detected unserializable ${e} at "${r}". ${dt}#strict${e}serializability`);throw s.value=t.value,s.unserializablePath=r,s}function Ct(t){return Object(s.V)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function wt({strictActionSerializability:t,strictStateSerializability:e}){return r=>t||e?function(t,e){return function(r,s){e.action(s)&&Et(mt(s),"action");const n=t(r,s);return e.state()&&Et(mt(n),"state"),n}}(r,{action:e=>t&&!yt(e),state:()=>e}):r}function xt({strictActionImmutability:t,strictStateImmutability:e}){return r=>t||e?function(t,e){return function(r,s){const n=e.action(s)?Ot(s):s,o=t(r,n);return e.state()?Ot(o):o}}(r,{action:e=>t&&!yt(e),state:()=>e}):r}function yt(t){return t.type.startsWith("@ngrx")}function vt({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(r,n){if(e.action(n)&&!s.A.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${dt}#strictactionwithinngzone`);return t(r,n)}}(e,{action:e=>t&&!yt(e)}):e}function St(){return[{provide:U,multi:!0,deps:[B],useFactory:At}]}function Mt(t){return t}function At(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(p).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${dt}#strictactiontypeuniqueness`)}let jt=(()=>{class t{constructor(t,e,r,s,n,o){}}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)(s.Sb(O),s.Sb(z),s.Sb(H),s.Sb(rt),s.Sb(E,8),s.Sb(U,8))}}),t})(),Pt=(()=>{class t{constructor(t,e,r,s,n){this.features=t,this.featureReducers=e,this.reducerManager=r;const o=t.map((t,r)=>{const s=e.shift()[r];return Object.assign(Object.assign({},t),{reducers:s,initialState:Nt(t.initialState)})});r.addFeatures(o)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)(s.Sb(T),s.Sb(D),s.Sb(G),s.Sb(jt),s.Sb(U,8))}}),t})(),Tt=(()=>{class t{static forRoot(t,e={}){return{ngModule:jt,providers:[{provide:E,useFactory:kt,deps:[[rt,new s.B,new s.K]]},{provide:C,useValue:e.initialState},{provide:w,useFactory:Nt,deps:[C]},{provide:S,useValue:t},{provide:A,useExisting:t instanceof s.r?t:S},{provide:v,deps:[s.s,S,[new s.p(A)]],useFactory:It},{provide:R,useValue:e.metaReducers?e.metaReducers:[]},{provide:L,deps:[N,R],useFactory:Lt},{provide:y,useValue:e.reducerFactory?e.reducerFactory:W},{provide:x,deps:[y,L],useFactory:K},m,X,Y,et,st,(r=e.runtimeChecks,[{provide:F,useValue:r},{provide:k,useFactory:Mt,deps:[F]},{provide:B,deps:[k],useFactory:Ct},{provide:N,multi:!0,deps:[B],useFactory:xt},{provide:N,multi:!0,deps:[B],useFactory:wt},{provide:N,multi:!0,deps:[B],useFactory:vt}]),St()]};var r}static forFeature(t,e,r={}){return{ngModule:Pt,providers:[{provide:P,multi:!0,useValue:t instanceof Object?{}:r},{provide:M,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:r instanceof s.r||!r.reducerFactory?W:r.reducerFactory,metaReducers:r instanceof s.r||!r.metaReducers?[]:r.metaReducers,initialState:r instanceof s.r||!r.initialState?void 0:r.initialState}},{provide:T,deps:[s.s,P,M],useFactory:Dt},{provide:j,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:I,multi:!0,useExisting:e instanceof s.r?e:j},{provide:D,multi:!0,deps:[s.s,j,[new s.p(I)]],useFactory:Rt},St()]}}}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)}}),t})();function It(t,e){return e instanceof s.r?t.get(e):e}function Dt(t,e,r){return r.map((r,n)=>{if(e[n]instanceof s.r){const s=t.get(e[n]);return{key:r.key,reducerFactory:s.reducerFactory?s.reducerFactory:W,metaReducers:s.metaReducers?s.metaReducers:[],initialState:s.initialState}}return r})}function Rt(t,e){return e.map(e=>e instanceof s.r?t.get(e):e)}function Nt(t){return"function"==typeof t?t():t}function Lt(t,e){return t.concat(e)}function kt(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Ft(...t){return{reducer:t.pop(),types:t.map(t=>t.type)}}function Bt(t,...e){const r=new Map;for(const s of e)for(const t of s.types){const e=r.get(t);r.set(t,e?(t,r)=>s.reducer(e(t,r),r):s.reducer)}return function(e=t,s){const n=r.get(s.type);return n?n(e,s):e}}},pxpQ:function(t,e,r){"use strict";r.d(e,"b",function(){return o}),r.d(e,"a",function(){return c});var s=r("7o/Q"),n=r("WMd4");function o(t,e=0){return function(r){return r.lift(new i(t,e))}}class i{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))}}class c extends s.a{constructor(t,e,r=0){super(t),this.scheduler=e,this.delay=r}static dispatch(t){const{notification:e,destination:r}=t;e.observe(r),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(c.dispatch,this.delay,new a(t,this.destination)))}_next(t){this.scheduleMessage(n.a.createNext(t))}_error(t){this.scheduleMessage(n.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(n.a.createComplete()),this.unsubscribe()}}class a{constructor(t,e){this.notification=t,this.destination=e}}},qgXg:function(t,e,r){"use strict";r.d(e,"b",function(){return c}),r.d(e,"a",function(){return a});var s=r("3N8a");class n extends s.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(t,e,r):t.flush(this)}}var o=r("IjjT");class i extends o.a{}const c=new i(n),a=c},tS1D:function(t,e,r){"use strict";r.d(e,"a",function(){return u});var s=r("D0XW");const n=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})();var o=r("zx2A");class i{constructor(t,e,r,s){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=s}call(t,e){return e.subscribe(new c(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class c extends o.b{constructor(t,e,r,s,n){super(t),this.absoluteTimeout=e,this.waitFor=r,this.withObservable=s,this.scheduler=n,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(o.c)(e,new o.a(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(c.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var a=r("z6cu");function u(t,e=s.a){return function(t,e,r=s.a){return s=>{let n=(o=t)instanceof Date&&!isNaN(+o);var o;let c=n?+t-r.now():Math.abs(t);return s.lift(new i(c,n,e,r))}}(t,Object(a.a)(new n),e)}},zP0r:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var s=r("7o/Q");function n(t){return e=>e.lift(new o(t))}class o{constructor(t){this.total=t}call(t,e){return e.subscribe(new i(t,this.total))}}class i extends s.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},zp1y:function(t,e,r){"use strict";r.d(e,"a",function(){return o});var s=r("l7GE"),n=r("ZUHj");function o(...t){return e=>{let r;return"function"==typeof t[t.length-1]&&(r=t.pop()),e.lift(new i(t,r))}}class i{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new c(t,this.observables,this.project))}}class c extends s.a{constructor(t,e,r){super(t),this.observables=e,this.project=r,this.toRespond=[];const s=e.length;this.values=new Array(s);for(let n=0;n<s;n++)this.toRespond.push(n);for(let o=0;o<s;o++){let t=e[o];this.add(Object(n.a)(this,t,void 0,o))}}notifyNext(t,e,r){this.values[r]=e;const s=this.toRespond;if(s.length>0){const t=s.indexOf(r);-1!==t&&s.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}}}]);